---
import IconArrowX from "@/components/icons/icon-arrow-x";
import TeamCard from "./team-card.astro";
import { team } from "@/consts/team";
---

<section
  class="relative flex h-[450px] w-full items-center justify-center max-lg:hidden"
>
  <swiper-container
    key="team-carousel"
    navigation="true"
    navigation-next-el=".custom-next-button-mega"
    navigation-prev-el=".custom-prev-button-mega"
    slide-active-class="active-slide"
    initial-slide="3"
    slides-per-view="3"
    centered-slides="true"
    space-between= "0"
    simulate-touch= "false"
    speed="800"
    loop="true"
    class="swiper-2 mx-auto w-[51.5rem] lg:mx-0"
  >
    {
      team.map((card) => (
        <swiper-slide class="flex min-h-[30rem] items-center justify-center transition-all duration-500">
          <TeamCard card={card} />
        </swiper-slide>
      ))
    }
  </swiper-container>

  <button
    class="custom-prev-button-mega absolute left-4 top-1/2 -translate-y-1/2 transition-colors lg:-left-8"
    ><IconArrowX right={false} className="" /></button
  >
  <button
    class="custom-next-button-mega absolute right-4 top-1/2 -translate-y-1/2 transition-colors lg:-right-8"
    ><IconArrowX right className="" /></button
  >
</section>

<style>
  .custom-prev-button-mega,
  .custom-next-button-mega {
    background-color: white;
    border-radius: 99999px;
    padding: 0.04rem;
    border: solid 4px black;
    z-index: 1;
  }

  .custom-prev-button-mega:hover,
  .custom-next-button-mega:hover {
    @apply bg-primary;
  }

  .active-slide {
    transform: scale(1.25);
    z-index: 10;
  }

  @media (min-width: 1024px) {
    .custom-prev-button-mega,
    .custom-next-button-mega {
      padding: 0.4rem;
      border: solid 6px black;
    }
  }
</style>

<script>
  import { register } from "swiper/element/bundle";
  register();
  const swiperEl = document.querySelector("swiper-container");

  // swiper parameters

  const swiperParams = {
    initialSlide:"2",
    slidesPerView:"3",
    on: {
      init() {
        // ...
      },
    },
  };

  // now we need to assign all parameters to Swiper element
  Object.assign(swiperEl!, swiperParams);

  // and now initialize it
  swiperEl!.initialize();
</script>
